"undefined"==typeof Promise&&(window.Promise=function(t){return this.t=t,this.resolve=null,this.reject=null,this.i=null,this.h=function(){},this.init(),this},Promise.prototype={init:function(){return setTimeout(function(){try{this.t.apply(null,[this.resolve||this.h,this.reject||this.h])}catch(t){(this.i||this.h)(t.message||t,t)}}.bind(this),0),this},then:function(){return this.resolve=arguments[0],this.reject=arguments[1],this},catch:function(){return this.i=arguments[0],this}});